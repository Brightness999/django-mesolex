{% load static %}
{% load util_tags %}

<!DOCTYPE html>
<html lang="es" class="no-js">
<head>
    <meta charset="utf-8">
    <title>{% block title %}{% firstof page.title 'Mesolex' %}{% endblock title %}</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% block meta-description %}Recursos lexicosemánticos para lenguas mesoamericanas{% endblock %}">
    <meta name="author" content="{% block meta-author %}El Grupo Mesolex{% endblock %}">
    <meta name="keywords" content="Náhuat,Nahuatl,Mixtec,México,lenguas mesoamericanas,lenguas indigenas,léxico,diccionario{% block meta-keywords %}{% endblock %}">

    <meta itemprop="name" content="{% block meta-name %}{% firstof page.title 'Mesolex' %}{% endblock %}" />
    <meta itemprop="description" content="{% block meta-description-itemprop %}Recursos lexicosemánticos para lenguas mesoamericanas{% endblock %}" />

    <meta property="og:title" content="{% block og_title %}{% firstof page.title 'Mesolex' %}{% endblock %}" />
    <meta property="og:type" content="{% block og_type %}article{% endblock %}" />
    <meta property="og:description" content="{% block og_description %}Recursos lexicosemánticos para lenguas mesoamericanas{% endblock %}" />
    <meta property="og:site_name" content="Mesolex" />
    <meta property="og:image" content="{% block og-image %}{% static 'img/ATC.jpg' as og_image %}{% build_absolute_uri og_image %}{% endblock og-image %}" />

    <link rel="stylesheet" href="{% static 'dist/site.bundle.css' %}"/>

    {% block extra-head %}
    {% endblock extra-head %}
</head>
<body>
    {% block header %}
        {% include 'mesolex_site/includes/header.html' %}
    {% endblock header%}
    <main class="container py-3">
        {% block content %}
        {% endblock %}
    </main>

    {% include 'mesolex_site/includes/footer.html' %}

    <script type="text/javascript" src="{% url 'javascript-catalog' %}"></script>
    <script type="text/javascript" src="{% static 'dist/vendors.bundle.js' %}"></script>
    <script type="text/javascript" src="{% static 'dist/site.bundle.js' %}"></script>

    <script id="js-init" type="text/json">
    {
      {% block js-init %}
      {% endblock js-init %}
    }
    </script>
    {% block extra-js %}{% endblock extra-js %}

    <script>
    /**
     Ensure that the language selector links redirect to the appropriate translation
     for the active page.
     */
    jQuery(function($) {
        $('#language-select button').one('click', function(e) {
            e.preventDefault();

            var $this = $(this);
            var translationUrl = $this.data('translation-url');
            var $form = $this.closest('form');
            var $next = $form.find('input[name="next"]');

            $next.val(translationUrl);
            $this.click();
        });
    });
    </script>
</body>
</html>
